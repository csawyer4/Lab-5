<!DOCTYPE html>
<html>
	<head>
		<title>Protecting Ecosystems</title>
			<meta charset="utf-8" />
			<meta name="viewport" content="width=device-width, initial-scale=1.0">

			<link rel="stylesheet" href="leaflet.css"/>
			<link rel="stylesheet" href="styles.css"/>
			<link rel="stylesheet" href="MarkerCluster.Default.css"/>
			<link rel="stylesheet" href="leaflet.fullscreen.css"/>

			<script src="leaflet.js"></script>
			<script src="Leaflet.MakiMarkers.js"></script>
			<script src="jquery-3.4.1.min.js"></script>
			<script src="leaflet.markercluster.js"></script>
			<script src="leaflet.fullscreen.js"></script>


	</head>
	<body>
		<h1>Protecting Delicate Ecosystems</h1>
			<h2>From the Mountain to the Coast</h2>
				<div id="map5"></div>
					<h3>Mount Rainier</h3>
					<h3>Nisqually River</h3>
					<h3>Mima Mounds Prairie</h3>
					<h3>Titlow Beach Park</h3>
					<h3>White River</h3>
					<h3>Woodard Bay</h3>
					<h3>Chehalis Surge Plain</h3>
					<h3>Port of Tacoma Mud Flats</h3>

			<h2>Fish Sensitive Areas</h2>
				<div id="map6"></div>

				<script>
				var mymap = L.map('map5').setView([47.142, -122.683], 9);
			L.tileLayer('https://api.mapbox.com/styles/v1/csawyer4/ck2sivytp1zk41cvwg4a5mywm/tiles/256/{z}/{x}/{y}?access_token=pk.eyJ1IjoiY3Nhd3llcjQiLCJhIjoiY2syc2g2bnlzMGtyeDNubW55bHRzNnkzOSJ9.WZ63B0C4v437JrMyODN-6g', {
				attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery © <a href="https://www.mapbox.com/">Mapbox</a>',
				maxZoom: 18,
				id: 'csawyer4.ck2sivytp1zk41cvwg4a5mywm',
				accessToken: 'pk.eyJ1IjoiY3Nhd3llcjQiLCJhIjoiY2syc2g2bnlzMGtyeDNubW55bHRzNnkzOSJ9.WZ63B0C4v437JrMyODN-6g'
			}).addTo(mymap);

			var map = L.map('map6').setView([47.056, -122.127], 9);
		L.tileLayer('https://api.mapbox.com/styles/v1/csawyer4/ck3gqd11h0cpl1cplalm8zlot/tiles/256/{z}/{x}/{y}?access_token=pk.eyJ1IjoiY3Nhd3llcjQiLCJhIjoiY2syc2g2bnlzMGtyeDNubW55bHRzNnkzOSJ9.WZ63B0C4v437JrMyODN-6g', {
		 attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery © <a href="https://www.mapbox.com/">Mapbox</a>',
		 maxZoom: 18,
		 id: 'csawyer4.ck3gqd11h0cpl1cplalm8zlot',
		 accessToken: 'pk.eyJ1IjoiY3Nhd3llcjQiLCJhIjoiY2syc2g2bnlzMGtyeDNubW55bHRzNnkzOSJ9.WZ63B0C4v437JrMyODN-6g'
	 }).addTo(map);
	 		map.addControl(new L.Control.Fullscreen());
L.MakiMarkers.accessToken= 'pk.eyJ1IjoiY3Nhd3llcjQiLCJhIjoiY2syc2g2bnlzMGtyeDNubW55bHRzNnkzOSJ9.WZ63B0C4v437JrMyODN-6g'

			$.getJSON("Restoring.geojson",function(rdata){
						 var mark = L.MakiMarkers.icon({
							 icon: "park",
							 color: "#339933",
							 size: "m"
						 });
				 L.geoJson(rdata , {
					 pointToLayer: function (feature, latlng){
						 var marker = L.marker(latlng,{icon: mark});
						 marker.bindPopup(feature.properties.name);
						 return marker;
					 }
				 }).addTo(mymap);
			 });


			 $.getJSON("sensitivemap.geojson",function(sdata){
 						 var mark = L.MakiMarkers.icon({
 							 icon: "danger",
 							 color: "#ff3333",
 							 size: "m"
 						 });
 				var danger= L.geoJson(sdata , {
 					 pointToLayer: function (feature, latlng){
 						 var marker = L.marker(latlng,{icon: mark});
 						 marker.bindPopup("This is approximately " + feature.properties.DIST_FT + " feet from a fish sensitive area");
 						 return marker;
 					 }
 				 });
				 var clusters = L.markerClusterGroup({
					 showCoverageOnHover: false
				 });
				 clusters.addLayer(danger);
				 map.addLayer(clusters);
 			 });


//Pierce_Urban_Cluster does not work, need to properly convert to GeoJson.
		// $.getJSON("Pierce_Urban_Cluster.json", function(pdata){
		// 				L.geoJson(data, {
		// 					style: function(feature) {
		// 						return{
		// 							color: "#ff0000"
		// 						};
		// 					}
		// 				}).addTo(map);
		// 			});


				</script>
	</body>
</html>
